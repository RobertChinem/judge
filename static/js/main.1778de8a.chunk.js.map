{"version":3,"sources":["api.ts","Components/Form/Select/index.tsx","Components/Form/TextArea/index.tsx","Hooks/useFetch.ts","Hooks/useForm.ts","Components/Compiler/index.tsx","App.tsx","index.tsx"],"names":["API_URL","GET_LANGUAGES","url","options","method","POST_SUBMISSION","submission","headers","body","JSON","stringify","Select","label","name","value","onChange","error","className","htmlFor","id","required","map","TextArea","rows","disabled","useFetch","React","useState","data","setData","setError","loading","setLoading","request","useCallback","a","fetch","response","json","ok","Error","message","useForm","setValue","validate","length","target","onBlur","Compiler","languages","setLanguages","language","code","stdin","stdout","setStdout","utf8_to_b64","str","window","btoa","unescape","encodeURIComponent","b64_to_utf8","decodeURIComponent","escape","atob","changeTab","tabName","someTabTriggerEl","document","querySelector","bootstrap","Tab","show","every","fn","source_code","language_id","Number","compile_output","stderr","useEffect","fetchLanguages","lang","role","type","onClick","App","path","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1778de8a.chunk.js","sourcesContent":["import { Submission } from './Models/Submission'\n\n\nconst API_URL = 'https://ce.judge0.com'\n\n\nexport function GET_LANGUAGES(){\n    return {\n        url: `${API_URL}/languages`,\n        options: {\n\t\t\tmethod: 'GET',\n\t\t}\n    }\n}\n\n\nexport function POST_SUBMISSION(submission: Submission){\n    return {\n        url: `${API_URL}/submissions/?base64_encoded=true&wait=true`,\n        options: {\n            method: 'POST',\n            headers: {\n\t\t\t\t'Content-type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(submission)\n        }\n    }\n}\n","import React from 'react'\n\n\ninterface Option {\n    value: string | number\n    label: string\n}\n\n\ninterface SelectProps {\n    options: Option[]\n    label: string\n    name: string\n    value: string\n    onChange: (...a: any) => void\n    error: string | null\n}\n\n\nconst Select: React.FC<SelectProps> = ({ options, label, name, value, onChange, error }) => {\n    return (\n        <div className=\"mb-3\">\n            <label htmlFor={name} className=\"form-label\">{label}</label>\n            <select value={value} onChange={onChange} className=\"form-select\" id={name} required>\n                {\n                    options.map(({ value, label }) => <option key={value} value={value}>{label}</option>)\n                }\n            </select>\n            {error && <p className=\"text-danger\">{error}</p>}\n        </div>\n    )\n}\n\nexport default Select\n","import React from \"react\"\n\n\ninterface TextAreaProps {\n    label: string\n    name: string\n    value: string\n    onChange?: (...params: any) => void\n    error?: string | null\n    rows: number\n    disabled?: boolean,\n    className?: string\n}\n\n\nfunction TextArea({ label, name, value, onChange, error, rows, disabled, className }: TextAreaProps) {\n    return (\n        <div className=\"mb-3\">\n            <label htmlFor={name} className=\"form-label\">{label}</label>\n            <textarea disabled={disabled} value={value} onChange={onChange} className={'form-control ' + className } id={name} rows={rows}></textarea>\n            {error && <p className=\"text-danger\">{error}</p>}\n        </div>\n    )\n}\n\nexport default TextArea\n","import React from \"react\"\n\n\nfunction useFetch() {\n\tconst [data, setData] = React.useState<string | null>(null)\n\tconst [error, setError] = React.useState<string | null>(null)\n\tconst [loading, setLoading] = React.useState<boolean>(false)\n\n\tconst request = React.useCallback(async (url: string, options: any) => {\n\t\tlet response, json\n\t\ttry {\n\t\t\tsetError(null)\n\t\t\tsetLoading(true)\n\t\t\tresponse = await fetch(url, options)\n\t\t\tjson = await response.json()\n\t\t\tif (response.ok === false) throw new Error(json.message)\n\t\t} catch (err) {\n\t\t\tjson = null\n\t\t\tsetError((err as any).message)\n\t\t} finally {\n\t\t\tsetData(json)\n\t\t\tsetLoading(false)\n\t\t\treturn { response, json }\n\t\t}\n\t}, [])\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading,\n\t\trequest\n\t}\n}\n\nexport default useFetch\n","import React from 'react'\n\n\nconst useForm = () => {\n\tconst [value, setValue] = React.useState<string>('')\n\tconst [error, setError] = React.useState<string|null>(null)\n\n\tfunction validate(value: string) {\n\n\t\tif(value.length === 0){\n\t\t\tsetError('Preencha um valor.')\n\t\t\treturn false\n\t\t}\n\t\telse{\n\t\t\tsetError(null)\n\t\t\treturn true\n\t\t}\n\t}\n\n\tfunction onChange({target}: any){\n\t\tif(error) validate(target.value)\n\t\tsetValue(target.value)\n\t}\n\n\treturn {\n\t\tvalue,\n\t\tsetValue,\n\t\tonChange,\n\t\terror,\n\t\tvalidate: () => validate(value),\n\t\tonBlur: () => validate(value)\n\t}\n}\n\nexport default useForm\n","import React from 'react'\nimport { GET_LANGUAGES, POST_SUBMISSION } from '../../api'\nimport Select from '../Form/Select'\nimport TextArea from '../Form/TextArea'\nimport useFetch from '../../Hooks/useFetch'\nimport useForm from '../../Hooks/useForm'\nimport { Language } from '../../Models/Language'\nimport { Submission } from '../../Models/Submission'\n\ndeclare var bootstrap: any\n\n\ninterface StdoutState {\n    message: string,\n    error: boolean\n}\n\nconst Compiler: React.FC = () => {\n    const { request, loading } = useFetch()\n\n    const [languages, setLanguages] = React.useState<Language[]>([])\n    const language = useForm()\n    const code = useForm()\n    const stdin = useForm()\n    const [stdout, setStdout] = React.useState<StdoutState>({ message: '', error: false })\n\n    function utf8_to_b64(str: string) {\n        return window.btoa(unescape(encodeURIComponent(str)))\n    }\n\n    function b64_to_utf8(str: string) {\n        return decodeURIComponent(escape(window.atob(str)))\n    }\n\n    function changeTab(tabName: string){\n        const someTabTriggerEl = document.querySelector(`#${tabName}`)\n        const tab = new bootstrap.Tab(someTabTriggerEl)\n        tab.show()\n    }\n\n    async function handleSubmit() {\n        const isValid = [language.validate, code.validate].every(fn => fn())\n        if (!isValid) return\n\n        const { url, options } = POST_SUBMISSION({\n            source_code: utf8_to_b64(code.value),\n            language_id: Number(language.value),\n            stdin: utf8_to_b64(stdin.value)\n        })\n        const { json } = await request(url, options)\n        const submission = json as Submission\n\n\n        if (submission.compile_output) {\n            setStdout({\n                message: `Error: ${b64_to_utf8(submission.compile_output)}`,\n                error: true\n            })\n        }\n        else if (submission.stderr) {\n            setStdout({\n                message: `Error: ${b64_to_utf8(submission.stderr)}`,\n                error: true\n            })\n        }\n        else {\n            setStdout({\n                message: b64_to_utf8(submission.stdout!),\n                error: false\n            })\n        }\n        changeTab('nav-output-tab')\n    }\n\n\n    React.useEffect(() => {\n        async function fetchLanguages() {\n            const { url, options } = GET_LANGUAGES()\n            const { json } = await request(url, options)\n            setLanguages(json as Language[])\n        }\n        fetchLanguages()\n    }, [request])\n\n    return (\n        <div>\n            <Select\n                options={languages.map((lang) => ({ value: lang.id, label: lang.name }))}\n                label=\"Linguagem\"\n                name=\"language\"\n                value={language.value}\n                onChange={language.onChange}\n                error={language.error}\n            />\n            <TextArea label=\"CÃ³digo\" name=\"code\" value={code.value} onChange={code.onChange} error={code.error} rows={10} />\n\n            <nav>\n                <div className=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n                    <button className=\"nav-link active\" id=\"nav-input-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-input\" type=\"button\" role=\"tab\" aria-controls=\"nav-input\" aria-selected=\"true\">Input</button>\n                    <button className=\"nav-link\" id=\"nav-output-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-output\" type=\"button\" role=\"tab\" aria-controls=\"nav-output\" aria-selected=\"false\">Output</button>\n                </div>\n            </nav>\n            <div className=\"tab-content\" id=\"nav-tabContent\">\n                <div className=\"tab-pane fade show active\" id=\"nav-input\" role=\"tabpanel\" aria-labelledby=\"nav-input-tab\">\n                    <TextArea label=\"\" name=\"input\" value={stdin.value} onChange={stdin.onChange} error={stdin.error} rows={5} />\n                </div>\n                <div className=\"tab-pane fade\" id=\"nav-output\" role=\"tabpanel\" aria-labelledby=\"nav-output-tab\">\n                    <TextArea disabled={true} className={stdout.error ? 'text-danger' : ''} label=\"\" name=\"output\" value={stdout.message} rows={5} />\n                </div>\n            </div>\n\n            <div className=\"row mt-4\">\n                {!loading ? (\n                    <button onClick={handleSubmit} className=\"btn btn-lg btn-primary\">Executar</button>\n                ) : (\n                    <button disabled={true} className=\"btn btn-lg btn-primary\">Carregando...</button>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default Compiler\n","import React from 'react';\nimport Compiler from './Components/Compiler';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\n\n\nfunction App() {\n    return (\n        <Router>\n            <Switch>\n                <Route path=\"/\" exact>\n                    <div className=\"App container my-5\">\n                        <div className=\"row d-flex justify-content-center\">\n                            <div className=\"col-6 text-center\">\n                                <h1 className=\"mb-5\">GRUB - Online Compiler</h1>\n                                <Compiler />\n                            </div>\n                        </div>\n                    </div>\n                </Route>\n                <Route path='/iframe' exact>\n                    <Compiler />\n                </Route>\n            </Switch>\n        </Router>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}